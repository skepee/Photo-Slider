	<!--
	<div class='box'>
		<div class='handlebox'>
			<div class='handle' id='rem1' style='float:left'><b>-</b></div>
			<div class='handle' id='add1' style='float:right'><b>+</b></div>	
		</div>
		<div class='content'>
			<div>1</div>
		</div>
	</div>-->

<html>
<head>
	<title>Basic Panels - Bootstrap 3</title>
</head>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>

<script>	
		function addHandleBox(id)
		{
			var result='';

			result+="		<div class='handlebox btn-group btn-group-sm'>";
			result+="			<div class='handle' id='rem" + id + "' style='float:left'>-</div>";	
			result+="			<div class='handle' id='add" + id + "' style='float:right'>+</div>"	
			result+="		</div>";

			return result;
		};


		function addContent(id)
		{
			var result='';

			result+="		<div class='content'>";
			result+="			<div>" + id + "</div>";
			result+="		</div>";

			return result;
		};


		function addBox(id)
		{
			var idnext=parseInt(id) + 1;
			var result='';

			result+="	$('#add" + id + "').click(function(){";
			result+="	$('.container').append(createBox("  + idnext + "));"
			result+="$('#add" + id + "').hide();";
			result+="$('#rem" + id + "').hide();";
			result+="});";

			return result;
		};

		function remBox(id)
		{
			var idprec=parseInt(id) - 1;
			var result='';

			result+="	$('#rem" + id + "').click(function(){";
			result+="$('#box" + id + "').remove();";
			result+="$('#add" + idprec + "').show();";
			result+="$('#rem" + idprec + "').show();";
			result+="});";

			//console.log(result);

			return result;
		};


		function addScript(id)
		{
			var result='';

			result+="<script>";
			result+=addBox(id);
			result+=remBox(id);

			//result+="$('script').remove();"; toinvestigate!!!!!
			result+="<\/script>";

			return result;
		};


		function createBox(id)
		{
			var result='';
			var margin= (id===1)?"": "style='margin-left:10px;'";
			result+="<div class='box' " +  margin + " id=box" + id +">";
			result+=addHandleBox(id);
			result+=addContent(id);
			result+="	</div>";
			result+=addScript(id);

			//console.log(result);
			return result;
		};


 	$(document).ready(function(){ 		
 		var initBox=createBox(1);
 		$(".container").html(initBox);
		$('#rem1').hide();		
 	});



	


</script>
<style>

	.container
	{
		width:2000px;
		display: flex; 
		flex-direction: row;

	}

	.box	
	{
		background-color: yellow;
		width:200px;
		height:100px;
		display: flex;
	    flex-direction: column;
	}
		
	.handlebox
	{
		border: 1px solid blue;
		background-color: white;
		height:auto;
		width:100%;
		text-align: right;
		flex: 1;
	}



	.content 
	{
		border: 1px solid black;
		height:100%;
		width:100%;
	}


	.content div
	{
		padding:5px;
	}


	.handle{
		margin: 5px;
	}

</style>

<body>
<div class='container'>
</div>




</body>



</html>
